function k(){}function tt(t,e){for(const n in e)t[n]=e[n];return t}function et(t){return t()}function H(){return Object.create(null)}function S(t){t.forEach(et)}function nt(t){return typeof t=="function"}function st(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function gt(t){return Object.keys(t).length===0}function rt(t,...e){if(t==null)return k;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function qt(t,e,n){t.$$.on_destroy.push(rt(e,n))}function Dt(t,e){t.appendChild(e)}function U(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode.removeChild(t)}function Nt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Pt(t){return document.createElement(t)}function ot(t){return document.createTextNode(t)}function Tt(){return ot(" ")}function Y(){return ot("")}function zt(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function It(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Mt(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Bt(t){return t===""?null:+t}function bt(t){return Array.from(t.childNodes)}function Ft(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ut(t,e){t.value=e==null?"":e}function yt(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const c=document.createEvent("CustomEvent");return c.initCustomEvent(t,n,o,e),c}let A;function C(t){A=t}function I(){if(!A)throw new Error("Function called outside component initialization");return A}function Yt(t){I().$$.on_mount.push(t)}function wt(t){I().$$.after_update.push(t)}function kt(t){I().$$.on_destroy.push(t)}function Et(){const t=I();return(e,n,{cancelable:o=!1}={})=>{const c=t.$$.callbacks[e];if(c){const u=yt(e,n,{cancelable:o});return c.slice().forEach(l=>{l.call(t,u)}),!u.defaultPrevented}return!0}}function J(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(o=>o.call(this,e))}const O=[],K=[],N=[],Q=[],it=Promise.resolve();let B=!1;function ct(){B||(B=!0,it.then(ut))}function $t(){return ct(),it}function F(t){N.push(t)}const M=new Set;let D=0;function ut(){const t=A;do{for(;D<O.length;){const e=O[D];D++,C(e),vt(e.$$)}for(C(null),O.length=0,D=0;K.length;)K.pop()();for(let e=0;e<N.length;e+=1){const n=N[e];M.has(n)||(M.add(n),n())}N.length=0}while(O.length);for(;Q.length;)Q.pop()();B=!1,M.clear(),C(t)}function vt(t){if(t.fragment!==null){t.update(),S(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(F)}}const P=new Set;let E;function W(){E={r:0,c:[],p:E}}function X(){E.r||S(E.c),E=E.p}function $(t,e){t&&t.i&&(P.delete(t),t.i(e))}function j(t,e,n,o){if(t&&t.o){if(P.has(t))return;P.add(t),E.c.push(()=>{P.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function lt(t,e){const n={},o={},c={$$scope:1};let u=t.length;for(;u--;){const l=t[u],r=e[u];if(r){for(const s in l)s in r||(o[s]=1);for(const s in r)c[s]||(n[s]=r[s],c[s]=1);t[u]=r}else for(const s in l)c[s]=1}for(const l in o)l in n||(n[l]=void 0);return n}function ft(t){return typeof t=="object"&&t!==null?t:{}}function T(t){t&&t.c()}function L(t,e,n,o){const{fragment:c,on_mount:u,on_destroy:l,after_update:r}=t.$$;c&&c.m(e,n),o||F(()=>{const s=u.map(et).filter(nt);l?l.push(...s):S(s),t.$$.on_mount=[]}),r.forEach(F)}function R(t,e){const n=t.$$;n.fragment!==null&&(S(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function xt(t,e){t.$$.dirty[0]===-1&&(O.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function jt(t,e,n,o,c,u,l,r=[-1]){const s=A;C(t);const i=t.$$={fragment:null,ctx:null,props:u,update:k,not_equal:c,bound:H(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:H(),dirty:r,skip_bound:!1,root:e.target||s.$$.root};l&&l(i.root);let h=!1;if(i.ctx=n?n(t,e.props||{},(m,y,..._)=>{const g=_.length?_[0]:y;return i.ctx&&c(i.ctx[m],i.ctx[m]=g)&&(!i.skip_bound&&i.bound[m]&&i.bound[m](g),h&&xt(t,m)),y}):[],i.update(),h=!0,S(i.before_update),i.fragment=o?o(i.ctx):!1,e.target){if(e.hydrate){const m=bt(e.target);i.fragment&&i.fragment.l(m),m.forEach(z)}else i.fragment&&i.fragment.c();e.intro&&$(t.$$.fragment),L(t,e.target,e.anchor,e.customElement),ut()}C(s)}class St{$destroy(){R(this,1),this.$destroy=k}$on(e,n){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const c=o.indexOf(n);c!==-1&&o.splice(c,1)}}$set(e){this.$$set&&!gt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const x=[];function at(t,e){return{subscribe:dt(t,e).subscribe}}function dt(t,e=k){let n;const o=new Set;function c(r){if(st(t,r)&&(t=r,n)){const s=!x.length;for(const i of o)i[1](),x.push(i,t);if(s){for(let i=0;i<x.length;i+=2)x[i][0](x[i+1]);x.length=0}}}function u(r){c(r(t))}function l(r,s=k){const i=[r,s];return o.add(i),o.size===1&&(n=e(c)||k),r(t),()=>{o.delete(i),o.size===0&&(n(),n=null)}}return{set:c,update:u,subscribe:l}}function ht(t,e,n){const o=!Array.isArray(t),c=o?[t]:t,u=e.length<2;return at(n,l=>{let r=!1;const s=[];let i=0,h=k;const m=()=>{if(i)return;h();const _=e(o?s[0]:s,l);u?l(_):h=nt(_)?_:k},y=c.map((_,g)=>rt(_,q=>{s[g]=q,i&=~(1<<g),r&&m()},()=>{i|=1<<g}));return r=!0,m(),function(){S(y),h()}})}function Ot(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,c,u,l=[],r="",s=t.split("/");for(s[0]||s.shift();c=s.shift();)n=c[0],n==="*"?(l.push("wild"),r+="/(.*)"):n===":"?(o=c.indexOf("?",1),u=c.indexOf(".",1),l.push(c.substring(1,~o?o:~u?u:c.length)),r+=!!~o&&!~u?"(?:/([^/]+?))?":"/([^/]+?)",~u&&(r+=(~o?"?":"")+"\\"+c.substring(u))):r+="/"+c;return{keys:l,pattern:new RegExp("^"+r+(e?"(?=$|/)":"/?$"),"i")}}function Ct(t){let e,n,o;const c=[t[2]];var u=t[0];function l(r){let s={};for(let i=0;i<c.length;i+=1)s=tt(s,c[i]);return{props:s}}return u&&(e=new u(l()),e.$on("routeEvent",t[7])),{c(){e&&T(e.$$.fragment),n=Y()},m(r,s){e&&L(e,r,s),U(r,n,s),o=!0},p(r,s){const i=s&4?lt(c,[ft(r[2])]):{};if(u!==(u=r[0])){if(e){W();const h=e;j(h.$$.fragment,1,0,()=>{R(h,1)}),X()}u?(e=new u(l()),e.$on("routeEvent",r[7]),T(e.$$.fragment),$(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(r){o||(e&&$(e.$$.fragment,r),o=!0)},o(r){e&&j(e.$$.fragment,r),o=!1},d(r){r&&z(n),e&&R(e,r)}}}function At(t){let e,n,o;const c=[{params:t[1]},t[2]];var u=t[0];function l(r){let s={};for(let i=0;i<c.length;i+=1)s=tt(s,c[i]);return{props:s}}return u&&(e=new u(l()),e.$on("routeEvent",t[6])),{c(){e&&T(e.$$.fragment),n=Y()},m(r,s){e&&L(e,r,s),U(r,n,s),o=!0},p(r,s){const i=s&6?lt(c,[s&2&&{params:r[1]},s&4&&ft(r[2])]):{};if(u!==(u=r[0])){if(e){W();const h=e;j(h.$$.fragment,1,0,()=>{R(h,1)}),X()}u?(e=new u(l()),e.$on("routeEvent",r[6]),T(e.$$.fragment),$(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}else u&&e.$set(i)},i(r){o||(e&&$(e.$$.fragment,r),o=!0)},o(r){e&&j(e.$$.fragment,r),o=!1},d(r){r&&z(n),e&&R(e,r)}}}function Lt(t){let e,n,o,c;const u=[At,Ct],l=[];function r(s,i){return s[1]?0:1}return e=r(t),n=l[e]=u[e](t),{c(){n.c(),o=Y()},m(s,i){l[e].m(s,i),U(s,o,i),c=!0},p(s,[i]){let h=e;e=r(s),e===h?l[e].p(s,i):(W(),j(l[h],1,1,()=>{l[h]=null}),X(),n=l[e],n?n.p(s,i):(n=l[e]=u[e](s),n.c()),$(n,1),n.m(o.parentNode,o))},i(s){c||($(n),c=!0)},o(s){j(n),c=!1},d(s){l[e].d(s),s&&z(o)}}}function V(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const G=at(null,function(e){e(V());const n=()=>{e(V())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}}),Wt=ht(G,t=>t.location);ht(G,t=>t.querystring);const Z=dt(void 0);function Rt(t,e,n){let{routes:o={}}=e,{prefix:c=""}=e,{restoreScrollState:u=!1}=e;class l{constructor(f,a){if(!a||typeof a!="function"&&(typeof a!="object"||a._sveltesparouter!==!0))throw Error("Invalid component object");if(!f||typeof f=="string"&&(f.length<1||f.charAt(0)!="/"&&f.charAt(0)!="*")||typeof f=="object"&&!(f instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:b,keys:p}=Ot(f);this.path=f,typeof a=="object"&&a._sveltesparouter===!0?(this.component=a.component,this.conditions=a.conditions||[],this.userData=a.userData,this.props=a.props||{}):(this.component=()=>Promise.resolve(a),this.conditions=[],this.props={}),this._pattern=b,this._keys=p}match(f){if(c){if(typeof c=="string")if(f.startsWith(c))f=f.substr(c.length)||"/";else return null;else if(c instanceof RegExp){const w=f.match(c);if(w&&w[0])f=f.substr(w[0].length)||"/";else return null}}const a=this._pattern.exec(f);if(a===null)return null;if(this._keys===!1)return a;const b={};let p=0;for(;p<this._keys.length;){try{b[this._keys[p]]=decodeURIComponent(a[p+1]||"")||null}catch{b[this._keys[p]]=null}p++}return b}async checkConditions(f){for(let a=0;a<this.conditions.length;a++)if(!await this.conditions[a](f))return!1;return!0}}const r=[];o instanceof Map?o.forEach((d,f)=>{r.push(new l(f,d))}):Object.keys(o).forEach(d=>{r.push(new l(d,o[d]))});let s=null,i=null,h={};const m=Et();async function y(d,f){await $t(),m(d,f)}let _=null,g=null;u&&(g=d=>{d.state&&d.state.__svelte_spa_router_scrollY?_=d.state:_=null},window.addEventListener("popstate",g),wt(()=>{_?window.scrollTo(_.__svelte_spa_router_scrollX,_.__svelte_spa_router_scrollY):window.scrollTo(0,0)}));let q=null,v=null;const _t=G.subscribe(async d=>{q=d;let f=0;for(;f<r.length;){const a=r[f].match(d.location);if(!a){f++;continue}const b={route:r[f].path,location:d.location,querystring:d.querystring,userData:r[f].userData,params:a&&typeof a=="object"&&Object.keys(a).length?a:null};if(!await r[f].checkConditions(b)){n(0,s=null),v=null,y("conditionsFailed",b);return}y("routeLoading",Object.assign({},b));const p=r[f].component;if(v!=p){p.loading?(n(0,s=p.loading),v=p,n(1,i=p.loadingParams),n(2,h={}),y("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i}))):(n(0,s=null),v=null);const w=await p();if(d!=q)return;n(0,s=w&&w.default||w),v=p}a&&typeof a=="object"&&Object.keys(a).length?n(1,i=a):n(1,i=null),n(2,h=r[f].props),y("routeLoaded",Object.assign({},b,{component:s,name:s.name,params:i})).then(()=>{Z.set(i)});return}n(0,s=null),v=null,Z.set(void 0)});kt(()=>{_t(),g&&window.removeEventListener("popstate",g)});function pt(d){J.call(this,t,d)}function mt(d){J.call(this,t,d)}return t.$$set=d=>{"routes"in d&&n(3,o=d.routes),"prefix"in d&&n(4,c=d.prefix),"restoreScrollState"in d&&n(5,u=d.restoreScrollState)},t.$$.update=()=>{t.$$.dirty&32&&(history.scrollRestoration=u?"manual":"auto")},[s,i,h,o,c,u,pt,mt]}class Xt extends St{constructor(e){super(),jt(this,e,Rt,Lt,st,{routes:3,prefix:4,restoreScrollState:5})}}export{Bt as A,S as B,Et as C,Yt as D,Xt as R,St as S,Tt as a,U as b,Mt as c,z as d,Pt as e,Dt as f,Ft as g,T as h,jt as i,$ as j,j as k,R as l,L as m,k as n,qt as o,Wt as p,zt as q,It as r,st as s,ot as t,Y as u,W as v,X as w,Nt as x,J as y,Ut as z};
